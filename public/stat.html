<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord - Sports</title>
    <link rel="stylesheet" href="/public/css/home.css">
</head>
<body>
    <div class="dashboard">
        <div id="sidebar"></div>
        <main class="main-content">
            <div class="main-section">
                <div class="left-section">
                    <div class="report-section">
                        <div class="report-card performance-card">
                            <div class="report-title">Choix du sport</div>
                            <select id="sport-select" onchange="updateStats()" style="width: 100%; padding: 10px;">
                                <option value="football">Football</option>
                                <option value="musculation">Musculation</option>
                                <option value="rpm">RPM</option>
                                <option value="boxe">Boxe</option>
                                <option value="tennis">Tennis</option>
                                <option value="basketball">Basketball</option>
                            </select>
                        </div>
                        <div class="report-card game-time-card" id="stat-1">
                            <div class="report-title">Buts marqués</div>
                            <div class="report-value">--</div>
                            <div class="report-subtitle">--</div>
                        </div>
                    </div>
                    <div class="report-section">
                        <div class="report-card calories-card" id="stat-2">
                            <div class="report-title">Temps de jeu</div>
                            <div class="report-value">--</div>
                            <div class="report-subtitle">--</div>
                        </div>
                        <div class="report-card game-time-card" id="stat-3">
                            <div class="report-title">Passes décisives</div>
                            <div class="report-value">--</div>
                            <div class="report-subtitle">--</div>
                        </div>
                    </div>
                </div>
                <div class="progress-section">
                    <div class="max-w-sm w-full bg-white rounded-lg shadow dark:bg-gray-800 p-4 md:p-6">
                        <div class="flex justify-between mb-3">
                            <div class="flex items-center">
                                <h5 class="text-xl font-bold leading-none text-gray-900 dark:text-white pe-1">Your team's progress</h5>
                            </div>
                        </div>
                        <div class="bg-gray-50 dark:bg-gray-700 p-3 rounded-lg">
                            <div class="grid grid-cols-3 gap-3 mb-2">
                                <dl class="bg-orange-50 dark:bg-gray-600 rounded-lg flex flex-col items-center justify-center h-[78px]">
                                    <dt class="w-8 h-8 rounded-full bg-orange-100 dark:bg-gray-500 text-orange-600 dark:text-orange-300 text-sm font-medium flex items-center justify-center mb-1">12</dt>
                                    <dd class="text-orange-600 dark:text-orange-300 text-sm font-medium">To do</dd>
                                </dl>
                                <dl class="bg-teal-50 dark:bg-gray-600 rounded-lg flex flex-col items-center justify-center h-[78px]">
                                    <dt class="w-8 h-8 rounded-full bg-teal-100 dark:bg-gray-500 text-teal-600 dark:text-teal-300 text-sm font-medium flex items-center justify-center mb-1">23</dt>
                                    <dd class="text-teal-600 dark:text-teal-300 text-sm font-medium">In progress</dd>
                                </dl>
                                <dl class="bg-blue-50 dark:bg-gray-600 rounded-lg flex flex-col items-center justify-center h-[78px]">
                                    <dt class="w-8 h-8 rounded-full bg-blue-100 dark:bg-gray-500 text-blue-600 dark:text-blue-300 text-sm font-medium flex items-center justify-center mb-1">64</dt>
                                    <dd class="text-blue-600 dark:text-blue-300 text-sm font-medium">Done</dd>
                                </dl>
                            </div>
                            <div class="py-6" id="radial-chart"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script>
        const statsData = {
            football: ["10 buts", "90 minutes", "5 passes décisives"],
            musculation: ["120kg au squat", "2 heures", "50 répétitions"],
            rpm: ["30 km", "1h30", "5 sprints"],
            boxe: ["150 coups portés", "3 rounds", "10 esquives"],
            tennis: ["20 aces", "2 heures", "10 doubles fautes"],
            basketball: ["30 points", "40 minutes", "10 rebonds"]
        };

        function updateStats() {
            const selectedSport = document.getElementById('sport-select').value;
            const stats = statsData[selectedSport];

            const titles = {
                football: ["Buts marqués", "Temps de jeu", "Passes décisives"],
                musculation: ["Charge maximale", "Durée d'entraînement", "Répétitions totales"],
                rpm: ["Distance parcourue", "Durée totale", "Sprints"],
                boxe: ["Coups portés", "Nombre de rounds", "Esquives réussies"],
                tennis: ["Aces", "Temps de jeu", "Fautes doubles"],
                basketball: ["Points marqués", "Temps de jeu", "Rebonds"]
            };

            const statsTitles = titles[selectedSport];

            document.getElementById('stat-1').querySelector('.report-title').textContent = statsTitles[0];
            document.getElementById('stat-1').querySelector('.report-value').textContent = stats[0];

            document.getElementById('stat-2').querySelector('.report-title').textContent = statsTitles[1];
            document.getElementById('stat-2').querySelector('.report-value').textContent = stats[1];

            document.getElementById('stat-3').querySelector('.report-title').textContent = statsTitles[2];
            document.getElementById('stat-3').querySelector('.report-value').textContent = stats[2];
        }

        fetch('sidebar.html')
            .then(response => response.text())
            .then(data => { document.getElementById('sidebar').innerHTML = data; })
            .catch(error => console.error('Erreur lors du chargement de la sidebar:', error));

        const getChartOptions = () => {
            return {
                series: [90, 85, 70],
                colors: ["#1C64F2", "#16BDCA", "#FDBA8C"],
                chart: {
                    height: "380px",
                    width: "100%",
                    type: "radialBar",
                    sparkline: {
                        enabled: true,
                    },
                },
                plotOptions: {
                    radialBar: {
                        track: {
                            background: '#E5E7EB',
                        },
                        hollow: {
                            size: "32%",
                        }
                    },
                },
                labels: ["Done", "In progress", "To do"],
            };
        };

        if (document.getElementById("radial-chart") && typeof ApexCharts !== 'undefined') {
            const chart = new ApexCharts(document.querySelector("#radial-chart"), getChartOptions());
            chart.render();
        }
    </script>
</body>
</html>
