<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord - Sports</title>
    <link rel="stylesheet" href="/public/css/stat.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard">
        <div id="sidebar">
            <h2>Menu</h2>
            <ul>
                <li>Accueil</li>
                <li>Statistiques</li>
                <li>Entraînements</li>
                <li>Réglages</li>
            </ul>
        </div>
        <main class="main-content">
            <!-- Section de gauche -->
            <div class="left-section">
                <!-- Carrés -->
                <div class="report-card performance-card">
                    <div class="report-title">Choix du sport</div>
                    <select id="sport-select" style="width: 100%; padding: 10px;">
                        <option value="football">Football</option>
                        <option value="musculation">Musculation</option>
                        <option value="rpm">RPM</option>
                        <option value="boxe">Boxe</option>
                        <option value="tennis">Tennis</option>
                        <option value="basketball">Basketball</option>
                    </select>
                </div>
                <div class="report-card game-time-card" id="stat-1">
                    <div class="report-title">Buts marqués</div>
                    <div class="report-value">--</div>
                    <div class="report-subtitle">--</div>
                </div>
                <div class="report-card calories-card" id="stat-2">
                    <div class="report-title">Temps de jeu</div>
                    <div class="report-value">--</div>
                    <div class="report-subtitle">--</div>
                </div>
                <div class="report-card game-time-card" id="stat-3">
                    <div class="report-title">Passes décisives</div>
                    <div class="report-value">--</div>
                    <div class="report-subtitle">--</div>
                </div>
                <!-- Tableau -->
                <div class="chart-container">
                    <div class="chart-title">Temps passé par jour</div>
                    <canvas id="barChart"></canvas>
                </div>
            </div>
        
            <!-- Section de droite -->
            <div class="right-section">
                <!-- Graphe araignée -->
                <div class="chart-container radar-chart">
                    <div class="chart-title">Performance par sport</div>
                    <canvas id="radarChart"></canvas>
                </div>
                <!-- Progression -->
                <div class="progression-section">
                    <div class="task-completion-card">
                        <div class="progression-title">Progression</div>
                        <div class="circle-container">
                            <canvas id="taskCompletionChart"></canvas>
                            <div id="chart-center-text">71%</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>        
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const radarCtx = document.getElementById('radarChart').getContext('2d');
            const barCtx = document.getElementById('barChart').getContext('2d');
            const taskCtx = document.getElementById('taskCompletionChart').getContext('2d');

            new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: ['Endurance', 'Force', 'Agilité', 'Stratégie', 'Vitesse'],
                    datasets: [{
                        label: 'Football',
                        data: [85, 75, 70, 60, 90],
                        backgroundColor: 'rgba(193, 255, 114, 0.2)',
                        borderColor: '#C1FF72',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { labels: { color: '#C1FF72' } }
                    },
                    scales: {
                        r: { grid: { color: '#444' }, pointLabels: { color: '#C1FF72' } }
                    }
                }
            });

            new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'],
                    datasets: [{
                        label: 'Temps d’entraînement (heures)',
                        data: [1.5, 2, 2.5, 3, 1, 2, 0.5],
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: { beginAtZero: true, ticks: { color: '#C1FF72' } },
                        x: { ticks: { color: '#C1FF72' } }
                    }
                }
            });

            new Chart(taskCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Complet', 'Manqué'],
                    datasets: [{
                        data: [71, 29],
                        backgroundColor: ['rgba(255, 105, 180, 0.8)', '#666'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    cutout: '70%',
                    plugins: { legend: { display: false } },
                    elements: { arc: { borderRadius: 20 } },
                    animation: { animateRotate: true, animateScale: true }
                }
            });

            const chartCanvas = document.getElementById('taskCompletionChart');
            chartCanvas.style.filter = 'drop-shadow(0px 0px 15px rgba(255, 105, 180, 0.7))';
        });

        fetch('sidebar.html')
            .then(response => response.text())
            .then(data => { document.getElementById('sidebar').innerHTML = data; })
            .catch(error => console.error('Erreur lors du chargement de la sidebar:', error));
    </script>
</body>
</html>
